{% extends 'base.html.twig' %}

{% block title %}Hello ArticuloController!{% endblock %}

{% block body %}
<script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.9.2/dist/umd/popper.min.js"
    integrity="sha384-IQsoLXl5PILFhosVNubq5LC7Qb9DXgDA9i+tQ8Zj3iwWAwPtgFTxbJ8NT4GN1R8p"
    crossorigin="anonymous"></script>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet"
    integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">
<style>

    .cuerpo{
        display: flex;
        justify-content: center;
        align-items: center;
        height: 100vh; 
        margin:0;
    }
    h2{
        background-color: #34495E ;
        color:white;
    }
    .cliente{
         width:25%;
         border:2px solid black;
        text-align:center;
        padding-top:20%;
         height: 100vh; 
        margin:auto;
        background-color: #34495E ;
        color:white;
    }
    .incidencias{
        width:75%;
        border-radius:15px;
        background-color:antiquewhite;
         height: 100vh; 
         
    }
   
    .carta2 {
      padding-bottom: 20px;
      text-align: center;
      font-weight: bold;
      width: 400px;
   background-color:;
   margin:auto;
      
    }
     #titulo {
    margin-top:10px;
    display: flex;
    height: 100px;
    width: 100%;
    text-align:center;
    justify-content: center; 
    align-items:center;
    border:2px solid black;
    background-color:white;
  
}
    .cab{
       background-color:#34495E;
    }

    .user{
    display:flex;
    justify-content: right; 
    text-decoration: none;
    }
    .titulo h1{
        margin:0px;
    }


</style>
 {% if app.user %}

            <div class="mb-3 cab">
            <div class="titulo">
            <h1>Cilentes/Incidencias</h1>
            </div>
            <div class="user">
            <a href="{{path('verTodosClientes') }}">Clientes</a>
            <p></p>
            <a href="{{path('incidencias') }}">Incidencias</a>
            {{ app.user.userIdentifier }}
            <form action="{{ path('app_logout') }}" method="post">
                <button type="submit">Logout</button>
            </form>
            </div>
            </div>
        {% endif %}   

         <div class="alert alert-success">
        {% for message in app.flashes('success') %}
            {{ message }}
        {% endfor %}
    </div>   

<div class="cuerpo">

 <div class="cliente">
    <h1>{{ cliente.nombre }} </h1>
    <p>{{ cliente.apellidos }}</p>
    <p>{{ cliente.telefono }}</p>
    <p>{{ cliente.direccion }}</p>
</div>
<div class="incidencias">
    <div class="container mt-5 contenedorCaja2">
        <div class="row row-cols-2 row-cols-md-3 row-cols-lg-4">

            {% for incidencias in incidencia %}
                <div class="card col-md-4 rounded-5 carta2">
                    <div id="titulo" class="rounded-5">
                        <h1><a href="{{path('verIncidencia',{id: incidencias.id}) }}">{{incidencias.titulo}}</a></h1>
                    </div>
                <p class="card-text">Estado:{{incidencias.estado}}</p>
                <p class="card-text">Fecha Creacion:{{ incidencias.fechaCreacion|date('Y-m-d') }}</p>
                    <a href="{{path('editarIncidencia',{id: incidencias.id}) }}">Editar</a>
                     <a href="{{path('deleteIncidencia',{id: incidencias.id}) }}">borrar</a>
            {% endfor %}

        <form action="{{ path('addIncidencia', {cliente_id: cliente.id}) }}" method="get">
            <button type="submit">Nueva incidencia</button>
        </form>

        </div>

   

    </div>
</div>
</div>




{% endblock %}
